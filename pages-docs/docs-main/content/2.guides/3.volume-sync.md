---
title: 'Volume Synchronization'
description: 'How FMOD API automatically syncs with Minecraft volume sliders'
navigation:
  icon: i-lucide-volume-2
---

# Volume Synchronization

FMOD API automatically synchronizes with all Minecraft volume settings, ensuring FMOD sounds respect user preferences.

## üîä Synchronized Volume Categories

### Minecraft Audio Categories
| Category | FMOD Mapping | Behavior |
|----------|--------------|----------|
| **Master Volume** | Global multiplier | Affects all FMOD audio |
| **Music** | Background/ambient events | Loops and music tracks |
| **Sound Effects** | One-shot events | Impact sounds, UI audio |
| **Blocks** | Block-related events | Breaking, placing sounds |
| **Hostile** | Monster/combat events | Combat and creature audio |
| **Neutral** | Neutral mob events | Animals, NPCs |
| **Players** | Player action events | Footsteps, voice |
| **Ambient** | Environment events | Weather, atmosphere |

## ‚öôÔ∏è Real-Time Updates

### Automatic Detection
```java
// Monitors Minecraft's audio settings
@SubscribeEvent
public static void onVolumeChange(VolumeChangeEvent event) {
    float masterVolume = Minecraft.getInstance().options.getSoundSourceVolume(SoundSource.MASTER);
    float categoryVolume = Minecraft.getInstance().options.getSoundSourceVolume(event.getCategory());

    // Update FMOD volumes in real-time
    FMOD.ChannelGroup_SetVolume(getChannelGroup(event.getCategory()),
                               masterVolume * categoryVolume);
}
```

### Instant Response
- **Slider moved** ‚Üí FMOD volume updates immediately
- **No restart required** ‚Üí Changes apply instantly
- **Smooth transitions** ‚Üí No audio pops or clicks
- **Accurate mapping** ‚Üí Matches Minecraft's volume curves

## üéõÔ∏è Volume Categories in Practice

### Mapping Your Sounds

When playing FMOD events, specify the appropriate category:

```java
// Music/ambient sounds
FMODAPI.playEvent("event:/yourmod/ambient_forest", position,
                  SoundCategory.AMBIENT);

// Combat sounds
FMODAPI.playEvent("event:/yourmod/sword_clash", position,
                  SoundCategory.HOSTILE);

// UI sounds
FMODAPI.playEvent("event:/yourmod/button_click", position,
                  SoundCategory.MASTER);

// Block interaction
FMODAPI.playEvent("event:/yourmod/custom_break", position,
                  SoundCategory.BLOCKS);
```

### Automatic Category Detection
```java
// FMOD API can auto-detect categories based on event naming
FMODAPI.playEvent("event:/yourmod/music/battle_theme", position);
// ‚Üí Automatically maps to MUSIC category

FMODAPI.playEvent("event:/yourmod/blocks/stone_break", position);
// ‚Üí Automatically maps to BLOCKS category
```

## üîÑ Volume Curve Mapping

### Minecraft's Volume Curves
FMOD API replicates Minecraft's exact volume curves:

- **Linear mapping** for most categories
- **Logarithmic scaling** for master volume
- **Category-specific curves** where applicable
- **Mute behavior** when slider is at 0%

### Technical Implementation
```java
public static float calculateFMODVolume(SoundSource category, float sliderValue) {
    float masterVolume = options.getSoundSourceVolume(SoundSource.MASTER);
    float categoryVolume = options.getSoundSourceVolume(category);

    // Apply Minecraft's volume curve
    return applyMinecraftVolumeCurve(masterVolume * categoryVolume * sliderValue);
}
```

## üìä Volume Priorities

### Hierarchy
1. **Master Volume** - Global override (top priority)
2. **Category Volume** - Per-category control
3. **Event Volume** - Individual sound level
4. **Distance Attenuation** - 3D positioning (if applicable)

### Calculation Order
```java
finalVolume = masterVolume
            √ó categoryVolume
            √ó eventVolume
            √ó distanceAttenuation
            √ó customModifiers
```

## üéÆ User Experience

### What Users See
- **Familiar Controls** - Same volume sliders as vanilla
- **Consistent Behavior** - FMOD sounds respond like vanilla sounds
- **Real-time Preview** - Volume changes apply immediately
- **No Additional Setup** - Works with existing preferences

### Benefits
- **Accessibility** - Respects user hearing preferences
- **Consistency** - Matches user expectations
- **Control** - Fine-grained volume control
- **Persistence** - Settings saved with Minecraft profile

## üîß Advanced Volume Control

### Custom Volume Multipliers
```java
// Apply custom volume multipliers
FMODAPI.setGlobalVolumeMultiplier(0.8f); // 80% of calculated volume
FMODAPI.setCategoryVolumeMultiplier(SoundCategory.MUSIC, 1.2f); // 120% music volume
```

### Dynamic Volume Changes
```java
// Gradually fade volume over time
FMODAPI.fadeEventVolume(instanceId, 0.0f, 2000); // Fade to silence over 2 seconds
FMODAPI.fadeEventVolume(instanceId, 1.0f, 1000); // Fade in over 1 second
```

### Volume Groups
```java
// Create custom volume groups
VolumeGroup combatSounds = FMODAPI.createVolumeGroup("combat");
combatSounds.linkToCategory(SoundCategory.HOSTILE);
combatSounds.setMultiplier(0.9f); // Slightly quieter combat sounds
```

## üìà Performance

### Optimization Techniques
- **Batched updates** - Multiple volume changes processed together
- **Change detection** - Only updates when sliders actually move
- **Efficient mapping** - Pre-calculated volume curves
- **Minimal overhead** - <0.1ms per volume update

### Memory Usage
- **Zero additional memory** for basic volume sync
- **Minimal overhead** for advanced features
- **No persistent storage** - Uses Minecraft's settings

## üêõ Troubleshooting

### Common Issues

**FMOD sounds don't respect volume sliders**
- Check FMOD initialization
- Verify event category mappings
- Enable debug logging to see volume updates

**Volume changes are delayed**
- Check for event loop blocking
- Verify no other audio mods are interfering
- Look for exceptions in volume update code

### Debug Tools
```java
// Monitor volume changes
FMODAPI.setVolumeDebugLogging(true);

// Check current volume levels
Map<SoundCategory, Float> volumes = FMODAPI.getCurrentVolumes();
System.out.println("Current volumes: " + volumes);
```

## üåü Best Practices

### Event Design
- **Use appropriate categories** - Map sounds to correct Minecraft categories
- **Consider user expectations** - Music should be music, effects should be effects
- **Test with different volumes** - Ensure sounds work at all volume levels
- **Respect mute settings** - Handle 0% volume gracefully

### Implementation
- **Cache volume calculations** - Don't recalculate every frame
- **Handle edge cases** - Muted categories, extreme values
- **Provide overrides** - Allow custom volume behavior when needed
- **Test thoroughly** - Verify volume sync across all categories

Perfect volume integration ensures your FMOD sounds feel native to Minecraft!

Next: [3D Audio System](./3d-audio) - Spatial audio positioning and tracking